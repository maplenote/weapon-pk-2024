# 武器PK專案架構書

## 專案概述

本專案是一個使用HTML、JavaScript和CSS動畫實作的兩人對戰遊戲界面。使用者可以觀看兩個角色進行戰鬥，並能調整戰鬥速度、暫停或重置對戰。戰鬥過程中的傷害資訊會即時顯示在畫面下方。

## 檔案結構

### 主要檔案

- index.html - 主要HTML架構
- index.js - 主要進入點，引入所有必要的JS和SASS檔案
- index.sass - 主要樣式文件
- config.js - 設定檔，包含基本參數和共用函式
- timeManager.js - 時間管理器，集中管理遊戲內所有動作的排程、暫停、繼續與速度調整
- weapons.js - 武器相關邏輯
- peoples.js - 角色相關邏輯
- action.js - 戰鬥動作和控制邏輯

### 建構後檔案

- index.html - 建構後的HTML檔案

## HTML結構

### 主要元件

1. **控制按鈕區域**
   - 開始按鈕
   - 暫停按鈕
   - 重置按鈕

2. **速度控制區域**
   - 速度選項：-3x, -2x, 1x (預設), +2x, +3x

3. **戰鬥場地 (arena)**
   - 血量顯示 (hp1、hp2)
     - 血條視覺元素
     - 血量數值文字
   - 角色 (man1、man2)
     - 道具欄位 (loosBox)
     - 手部元素 (hand1, hand2)
     - 武器元素

4. **訊息顯示區域**
   - 即時訊息 (instantMsg)
   - 所有戰鬥歷史紀錄 (allMsg)

## JavaScript架構

### config.js

- 管理全域設定
- 提供共用參數如：
  - 基礎單位尺寸
  - 場地尺寸
  - 基礎血量
  - 時間單位
  - 速度設定
- 提供共用函式：
  - `setConfig()`: 更新設定值
  - `getRandom()`: 產生隨機數值函式

### timeManager.js

- 集中管理遊戲內所有動作的排程、暫停、繼續與速度調整
- 提供 scheduleAction/cancelScheduledAction/pause/resume/setSpeed 等函式
- 所有戰鬥動作、動畫與計時皆透過 timeManager 控制，確保暫停、加速、減速時動作正確銜接

### weapons.js

- 武器定義和屬性
- 武器攻擊邏輯
- 武器視覺效果

### peoples.js

- 角色定義和基本屬性
- 角色動作邏輯
- 角色狀態管理

### action.js

- 戰鬥流程控制
- 按鈕事件處理
- 動畫和速度調整（已改為透過 timeManager 集中管理所有動作排程與速度）
- 傷害計算和顯示
- 戰鬥紀錄管理

## CSS/SASS架構 (推測)

- 場地和角色定位
- 血條動畫效果
- 武器動作和攻擊動畫
- 響應式設計

## 功能流程

1. **初始化**
   - 載入頁面和樣式
   - 設定預設參數
   - 角色和武器初始化

2. **戰鬥開始**
   - 點選「開始」按鈕
   - 啟動戰鬥動畫和邏輯
   - 開始記錄戰鬥資訊

3. **戰鬥過程**
   - 角色自動攻擊
   - 血量即時更新
   - 戰鬥資訊顯示

4. **使用者互動**
   - 可調整戰鬥速度
   - 可暫停/繼續戰鬥
   - 可重置戰鬥

5. **戰鬥結束**
   - 當一方血量歸零時結束
   - 顯示最終結果

## 使用技術

- 純CSS/SASS動畫
- Pure.css 框架 (UI元素樣式)
- 原生JavaScript (不依賴jQuery)
- Webpack (推測用於建構流程)
